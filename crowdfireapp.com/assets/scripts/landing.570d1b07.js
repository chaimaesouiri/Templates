function customFetch(e,i={}){return new Promise((n,o)=>{fetch(e,i).then(e=>e.ok?e.json():o(e)).then(e=>n(e)).catch(e=>{o(e)})})}var twitterBaseUrl=accountsBaseUrl+"/auth/twitter",instagramBaseUrl=accountsBaseUrl+"/auth/instagram",fbBaseUrl=api2BaseUrl+"/auth-starter/api/1.0/auth/facebook?isMultiAuth=1";function getParamsStr(){return document.location.search.split("?").pop()}function init(){var e=getParamsStr(),i=e.indexOf("referrerId")>-1;checkAppLaunch();var n=$(".js-login-twitter"),o=$(".js-login-instagram"),t=$(".js-login-facebook"),a="?"+(i?e+"&":"")+(isInvitedFromBranch?"beta=bullseye&":"")+"rememberMe=true&firebotVersion=3.0",s=twitterBaseUrl+a,l=instagramBaseUrl+a,r=fbBaseUrl+a;n.attr("href",s),o.attr("href",l),t.attr("href",r)}function checkAppLaunch(){$.cookie("lastAppOpen")||(window.clevertap&&window.clevertap.profile.push({Site:{"Last App Open":new Date}}),$.cookie("lastAppOpen",Date.now(),$.extend({expires:1},cookieOptions)))}function updateFollowCfFlagInLoginUrls(e){var i=$(".js-login-twitter").attr("href").replace("&followCf=true","").replace("&followCf=false","")+"&followCf="+e;$(".js-login-twitter").attr("href",i)}function desktopLoginClickHandlers(){const e=["#signinModal","#signupModal","#emailSignupModal","#emailSigninModal","#emailPasswordResetModal","#emailResetPasswordLinkSentModal"];function i(i){e.map(e=>{e===i?$(e).modal("show"):$(e).modal("hide")})}$("#signinModalTrigger").click(function(){return updateFollowCfFlagInLoginUrls(!1),i("#signinModal"),clearFields(),!1}),$("#signupModalTrigger").click(function(){return updateFollowCfFlagInLoginUrls($("#follow-justunfollow-signupModal").is(":checked")),i("#signupModal"),clearFields(),!1}),$("#emailSigninModalTrigger").click(function(){return i("#emailSigninModal"),clearFields(),!1}),$("#socialEmailSigninModalTrigger").click(function(){return i("#emailSigninModal"),clearFields(),!1}),$("#emailSignupModalTrigger").click(function(e){return i("#emailSignupModal"),clearFields(),!1}),$("#emailSignupSocialModalTrigger").click(function(){return i("#emailSignupModal"),clearFields(),!1}),$("#emailPasswordResetModalTrigger").click(function(){return i("#emailPasswordResetModal"),clearFields(),!1}),$("#emailPasswordResetSignInModalTrigger").click(function(){return i("#emailSigninModal"),clearFields(),!1}),$("#emailPasswordResetLinkSentSignInModalTrigger").click(function(){return i("#emailSigninModal"),clearFields(),!1})}function ValidateEmail(e){return!!/[\w-]+@([\w-]+\.)+[\w-]+/.test(e)}function emailSignInButtonClickHandler(){const e=$("#login-email-input").val(),i=$("#login-password-input").val(),n=getParamsStr().indexOf("referrerId")>-1;var o={Method:"Email","Is Referred":n,"Referral Source":n?"Email Invite":""};if(window.clevertap&&window.clevertap.event.push("Sign Up / Login Attempt",o),!1===ValidateEmail(e))$("#login-email-input-validation").html("Invalid Email");else{$("#login-email-input-validation").html(""),$("#email-login-button").addClass("loading");const n={email:e,password:i};customFetch(accountsBaseUrl+"/crowdfire/api/1.0/auth/sign-in",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)}).then(e=>{if(e){let e=webBaseUrl;if(window.location.search&&window.location.search.length&&window.location.search.includes("firebotx")){e=`${webBaseUrl}/#/firebotx`;const i=new Date,n=i.getTime()+1296e6;i.setTime(n);let o=".crowdfireapp.com";webBaseUrl.includes("cfstage")&&(o=".cfstage.com"),document.cookie="webview=1; expires="+i.toUTCString()+"; domain="+o}window.location.href=e}}).finally(()=>{$("#email-login-button").removeClass("loading")}).catch(e=>{if("function"==typeof e.text)try{e.text().then(e=>{const i=JSON.parse(e);$("#signIn-error-response-placeholder").html(i.message)})}catch(e){$("#signIn-error-response-placeholder").html("There was some error on our end")}else $("#signIn-error-response-placeholder").html("There was some error on our end")})}}function desktopEmailSignInSubmit(){$("#email-login-button").on("click",emailSignInButtonClickHandler),$("#email-signin-form").keydown(function(e){13==e.which&&emailSignInButtonClickHandler()})}function clearFields(e){["#login-email-input-validation","#signup-username-input-validation","#signup-email-input-validation","#signup-password-input-validation","#signup-confirm-password-input-validation","#signIn-error-response-placeholder","#reset-password-response-placeholder"].map(i=>{i!==e&&$(i)&&$(i).html("")})}function emailSignUpButtonClickHandler(){const e=$("#signup-username-input").val(),i=$("#signup-email-input").val(),n=$("#signup-password-input").val(),o=$("#signup-confirm-password-input").val(),t=getParamsStr().indexOf("referrerId")>-1;var a={Method:"Email","Is Referred":t,"Referral Source":t?"Email Invite":""};if(window.clevertap&&window.clevertap.event.push("Sign Up / Login Attempt",a),!1===ValidateEmail(i))$("#signup-email-input-validation").html("Invalid Email"),clearFields("#signup-email-input-validation");else if(n!==o)$("#signup-confirm-password-input-validation").html("Passwords do not match"),clearFields("#signup-confirm-password-input-validation");else{clearFields(),$("#email-signup-submit").addClass("loading");const o={email:i,password:n,fullName:e};0===e.length&&delete o.fullName;const t={method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(o)};customFetch(accountsBaseUrl+"/crowdfire/api/1.0/auth/sign-up",t).then(()=>{window.location.href=webBaseUrl}).finally(()=>{$("#email-signup-submit").removeClass("loading")}).catch(e=>{"function"==typeof e.text?e.text().then(e=>{const i=JSON.parse(e);$("#signup-confirm-password-input-validation").html(i.message)}):$("#signup-confirm-password-input-validation").html("There was some error on our end")})}}function desktopEmailSignUpSubmit(){$("#email-signup-form").keydown(function(e){13==e.which&&emailSignUpButtonClickHandler()}),$("#email-signup-submit").on("click",emailSignUpButtonClickHandler)}function resetPasswordInitiateButtonClickHandler(){const e=$("#reset-email-input").val();if(!1===ValidateEmail(e))$("#reset-password-response-placeholder").html("Invalid Email");else{$("#reset-password-response-placeholder").html("");const i={email:e},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)};$("#reset-password-button").addClass("loading"),customFetch(accountsBaseUrl+"/crowdfire/api/1.0/auth/reset-password-initiate",n).then(()=>{$("#emailPasswordResetModal").modal("hide"),$("#emailResetPasswordLinkSentModal").modal("show")}).finally(()=>{$("#reset-password-button").removeClass("loading")}).catch(e=>{"function"==typeof e.text?e.text().then(e=>{const i=JSON.parse(e);$("#reset-password-response-placeholder").html(i.message)}):$("#reset-password-response-placeholder").html("There was some error on our end")})}}function desktopResetPassword(){$("#reset-password-button").on("click",resetPasswordInitiateButtonClickHandler),$("#primary-password-reset-initiate-form").keydown(function(e){13==e.which&&resetPasswordInitiateButtonClickHandler()})}function getUrlParameter(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))}$(".js-login").on("click",function(e){e.preventDefault();var i=getParamsStr().indexOf("referrerId")>-1;if($(this).hasClass("js-login-twitter")){ga("send","event","Home Page","Login","Twitter");var n="Sign Up / Login Attempt",o={Method:"Twitter","Is Referred":i,"Referral Source":i?"Email Invite":""};window.clevertap&&window.clevertap.event.push(n,o)}else if($(this).hasClass("js-login-instagram")){ga("send","event","Home Page","Login","Instagram");n="Sign Up / Login Attempt",o={Method:"Instagram","Is Referred":i,"Referral Source":i?"Email Invite":""};window.clevertap&&window.clevertap.event.push(n,o)}else if($(this).hasClass("js-login-facebook")){ga("send","event","Home Page","Login","Facebook");n="Sign Up / Login Attempt",o={Method:"Facebook","Is Referred":i,"Referral Source":i?"Email Invite":""};window.clevertap&&window.clevertap.event.push(n,o)}setTimeout(function(){window.location=$(this).attr("href")}.bind(this),300)}),$(".js-get-app-btn").on("click",function(e){"Android"!==userDeviceAgent&&"iOS"!==userDeviceAgent||(e.preventDefault(),window.clevertap&&window.clevertap.event.push("Mobile App Download Attempt"),setTimeout(function(){window.location=$(this).attr("href")}.bind(this),300))}),$("#languages-dropdown").on("change",function(){window.location="?request_locale="+$(this).val()}),$(".js-mixpanel-signup-trigger").on("click",function(){var e={"Button Name":"Get Started",Context:$(this).data("btn-context"),"Url Path":window.location.pathname,Text:$(this).text()};window.clevertap&&window.clevertap.event.push("Click Button",e)}),init(),$(document).ready(function(){var e;new WOW({mobile:!1}).init();var i="http://link.crowdfireapp.com/getapp"+window.location.search,n=getAppBtnTextForMobile;"Android"===userDeviceAgent?(e='<i class="zmdi zmdi-android font-size-h5 v-align-m m-r-1x"></i>',$(".get-app-btn").attr("href",i)):"iOS"===userDeviceAgent?(e='<i class="zmdi zmdi-apple font-size-h5 v-align-m m-r-1x"></i>',$(".get-app-btn").attr("href",i)):(n=getAppBtnTextForDesktop,$(".get-app-btn").attr("href","https://www.crowdfireapp.com")),$(".get-app-btn").each(function(){$(this).data("text")||$(this).html(n).prepend(e)}),$(".js-download-btn").each(function(){$(this).attr("href",$(this).attr("href")+window.location.search)});var o=document.getElementById("header"),t=$("#headroomOffsetTrigger");new Headroom(o,{offset:t.offset()?t.offset().top+10:0}).init(),desktopLoginClickHandlers(),desktopEmailSignInSubmit(),desktopEmailSignUpSubmit(),desktopResetPassword(),$("#mobileSigninModalTrigger").click(function(){return updateFollowCfFlagInLoginUrls(!1),$("#mobileSigninModal").modal("show"),$("#mobileSignupModal").modal("hide"),!1}),$("#mobileSignupModalTrigger").click(function(){return updateFollowCfFlagInLoginUrls($("#follow-justunfollow-mobileSignupModal").is(":checked")),$("#mobileSigninModal").modal("hide"),$("#mobileSignupModal").modal("show"),!1}),$("#follow-justunfollow-mobileSignupModal").change(function(){updateFollowCfFlagInLoginUrls($(this).is(":checked"))}),$("#follow-justunfollow-signupModal").change(function(){updateFollowCfFlagInLoginUrls($(this).is(":checked"))}),$("#signUpEmailBtn").on("click",function(){$(this).removeClass("flex").addClass("hide"),$("#signUpEmailInputForm").show().find("input").focus()}),$("#signUpEmailInputForm").on("submit",function(e){return!!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test($("#signUpEmailInput").val())&&($("#signupEmailSubmitBtn").addClass("loading"),$.ajax({url:apiBaseUrl+"/v2/json/usergang/add-to-presignup-email-list?emailId="+$("#signUpEmailInput").val()}).done(function(){$("#signupEmailSubmitSuccessMsg").show(),$("#signupEmailSubmitErrorMsg").hide()}).fail(function(){$("#signupEmailSubmitSuccessMsg").hide(),$("#signupEmailSubmitErrorMsg").show()}).always(function(){$("#signupEmailSubmitBtn").removeClass("loading")}),!1)}),$(".js-mobile-signin-modal-close").on("click",function(){$("#signUpEmailInput").val(""),$("#signupEmailSubmitSuccessMsg").hide(),$("#signupEmailSubmitErrorMsg").hide(),$("#signUpEmailInputForm").hide(),$("#signUpEmailBtn").addClass("flex").removeClass("hide"),$(".navbar-toggle").hasClass("collapsed")||$(".navbar-toggle").trigger("click")})}),$(function(){function e(){$(window).width()>768&&$(".dropdown-features").hover(function(){$(".dropdown-features-menu",this).stop(!0,!0).fadeIn("fast"),$(this).toggleClass("open")},function(){$(".dropdown-features-menu",this).stop(!0,!0).fadeOut("fast"),$(this).toggleClass("open")})}e(),$(window).resize(e)}),$(document).on("click",".js-send-event",function(){var e=$(this).data("action"),i=$(this).data("label");ga("send","event","Home Page",e,i)}),$(window).load(function(){if($(".cd-testimonials-all-wrapper").show().css({height:"auto"}),window.innerWidth<=758){$(".cd-testimonials-all-wrapper").slick({slidesToShow:1,slidesToScroll:1,mobileFirst:!0,dots:!0,centerMode:!1,focusOnSelect:!0,autoplay:!0,rtl:isDirectionRTL,autoplaySpeed:3e3,responsive:[{breakpoint:758,settings:{slidesToShow:2}},{breakpoint:992,settings:{slidesToShow:3}}]});var e=0;$(".cd-testimonials-item").each(function(){$this=$(this).find(".content"),$this.outerHeight()>e&&(this,e=$this.outerHeight())}),$(".cd-testimonials-item").each(function(){$this=$(this).find(".content"),$this.css("height",e)})}else $(".cd-testimonials-all-wrapper").masonry({originLeft:!isDirectionRTL,itemSelector:".cd-testimonials-item"});$(".js-how-it-works").click(function(){$("html, body").animate({scrollTop:$(".user-requirements-container.first").offset().top},500)})}),$(window).load(function(){if(window.innerWidth<=758)$("#howItWorksTabContent").slick({slidesToShow:1,slidesToScroll:1,mobileFirst:!0,dots:!0,centerMode:!1,focusOnSelect:!0,autoplay:!0,rtl:isDirectionRTL,autoplaySpeed:2e3});else{var e=setInterval(function(){var e=$("#howItWorksTabs .tab-each"),i=e.filter(".active");(i.next(".tab-each").length?i.next(".tab-each").find("a"):e.filter(":first-child").find("a")).tab("show")},2e3);$("#howItWorksTabs .tab-each a").click(function(i){i.preventDefault(),clearInterval(e),$(this).tab("show")})}}),$(document).ready(function(){function e(e){document.getElementById(e).contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*")}function i(e){document.getElementById(e).contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}$("#contentRecoVideoModal").on("shown.bs.modal",function(){i("contentRecoVideoUrl")}),$("#contentRecoVideoModal").on("hide.bs.modal",function(){e("contentRecoVideoUrl")}),$("#yourPostVideoModal").on("shown.bs.modal",function(){i("yourPostVideoUrl")}),$("#yourPostVideoModal").on("hide.bs.modal",function(){e("yourPostVideoUrl")}),$("#scheduleVideoModal").on("shown.bs.modal",function(){i("scheduleVideoUrl")}),$("#scheduleVideoModal").on("hide.bs.modal",function(){e("scheduleVideoUrl")}),$("#rssVideoModal").on("shown.bs.modal",function(){i("rssVideoUrl")}),$("#rssVideoModal").on("hide.bs.modal",function(){e("rssVideoUrl")}),$("#customBestTimeVideoModal").on("shown.bs.modal",function(){i("customBestTimeUrl")}),$("#customBestTimeVideoModal").on("hide.bs.modal",function(){e("customBestTimeUrl")}),$("#bulkPostsVideoModal").on("shown.bs.modal",function(){i("bulkPostsUrl")}),$("#bulkPostsVideoModal").on("hide.bs.modal",function(){e("bulkPostsUrl")})}),$(document).ready(function(){var e=getUrlParameter("error");989===parseInt(e)?($("#instaLoginErrorModal").modal("show"),$("#instaLoginErrorModalText")&&$("#instaLoginErrorModalDescription")&&($("#instaLoginErrorModalText").text("New Instagram Sign-up Disabled"),$("#instaLoginErrorModalDescription").text("The Instagram account you're trying to log in with does not exist in our system. Please use email or other sign up methods to log in, as Instagram sign up is disabled."))):990===parseInt(e)&&($("#instaLoginErrorModal").modal("show"),$("#instaLoginErrorModalText")&&$("#instaLoginErrorModalDescription")&&($("#instaLoginErrorModalText").text("Login with Instagram has been deprecated."),$("#instaLoginErrorModalDescription").text("Please use a different login method. If you have not enabled login using a different method, please click on login via email > forgot password and reset your password."),$("#instaLoginErrorModalCTA").html(""))),$("#instaLoginErrorModalBtn").click(function(){$("#instaLoginErrorModal").modal("hide")}),$("#instagramLoginDeprecatedModalTrigger").click(function(){$("#instaLoginErrorModal").modal("show"),$("#instaLoginErrorModalText")&&$("#instaLoginErrorModalDescription")&&($("#instaLoginErrorModalText").text("Login with Instagram has been deprecated."),$("#instaLoginErrorModalDescription").text("Please use a different login method. If you have not enabled login using a different method, please click on login via email > forgot password and reset your password."),$("#instaLoginErrorModalCTA").html(""))})});