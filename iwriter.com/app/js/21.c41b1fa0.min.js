/*! Popup - Mon, 24 Jul 2023 18:10:24 GMT */
"use strict";(self.webpackChunkom_api_js=self.webpackChunkom_api_js||[]).push([[21],{8045:function(t,i,e){e.r(i),e.d(i,{default:function(){return r}});var s=e(2888),o=e(4141);function n(t,i,e){return(i=function(t){var i=function(t,i){if("object"!=typeof t||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var s=e.call(t,i||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:String(i)}(i))in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}class r{constructor(t){n(this,"show",(()=>new Promise((t=>{this.prePosition();let i=null;i=this.C.settings.exit||this.C.settings.changeView?new Promise((t=>{this.C.contain.style.display="block",t()})):new Promise((t=>{(0,s.fadeIn)(this.C.contain,(()=>{t()}))})),i.then((()=>{this.C.viewDiv.style.display="block",(0,s.addClass)(document.body,"om-effect-overlay"),this.position(),this.C.opening=!1,t()}))})))),n(this,"afterShow",(()=>{this.trap.init()})),n(this,"close",(()=>new Promise((t=>{(0,s.fadeOut)(this.C.contain,(()=>{this.C.is()&&this.C.prevFocus&&this.C.prevFocus.focus(),(0,s.removeClass)(document.documentElement,"om-position-popup"),(0,s.removeClass)(document.body,"om-effect-overlay"),this.C.opening=!1,t()}))})))),n(this,"afterClose",(()=>{this.trap.afterClose()})),n(this,"prePosition",(()=>{this.C.contain.style.display="block",this.C.viewDiv.style.display="block",this.position(),this.C.viewDiv.style.display="none",this.C.contain.style.display="none"})),n(this,"position",(()=>{this.C.Styles.positionPopup()})),n(this,"on",(()=>{(0,s.on)(window,"resize.omPopup"+this.C.id,(()=>{this.C.Timeouts.clear("rPopup"),this.C.settings.visible?this.C.Timeouts.set((()=>{this.position()}),50,"rPopup"):(0,s.off)(window,"resize.omPopup"+this.C.id)}))})),n(this,"off",(()=>{(0,s.off)(window,"resize.omPopup"+this.C.id)})),this.type=t,this.C=t.C,this.trap=new o.Z(this.C)}}},4141:function(t,i,e){e.d(i,{Z:function(){return n}});var s=e(2888);function o(t,i,e){return(i=function(t){var i=function(t,i){if("object"!=typeof t||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var s=e.call(t,i||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:String(i)}(i))in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}class n{constructor(t){o(this,"init",(()=>{(0,s.trigger)(document,"FocusTrap.init",{Trap:this,Campaign:this.C}),this.C.viewDiv.setAttribute("role","dialog"),this.C.viewDiv.setAttribute("aria-live","polite"),this.maybeSetTrap();let t=this.C.viewDiv.querySelector(".Campaign__innerWrapper");t.setAttribute("tabindex",0),t.focus(),this.C.viewDiv.addEventListener("focusin",this.maybeSetTrap)})),o(this,"maybeSetTrap",(()=>{if(!this.shouldTrapFocus)return;const t=(0,s.querySelectorAll)('button, input, select, textarea, a, [tabindex]:not([tabindex="-1"])',this.C.viewDiv);(0,s.each)(t,((t,i)=>{"true"===i.ariaHidden||-1===i.tabIndex||!(0,s.visible)(i)||1>=(0,s.css)(i,"width")||void 0===i.getAttribute("id")||(i.setAttribute("aria-live","polite"),i.setAttribute("tabindex",0),this.focusable.first||(this.focusable.first=i),this.focusable.last=i)})),this.focusable.first&&this.focusable.last&&!this.listening&&(document.addEventListener("keydown",this.modalFocusListener),this.listening=!0)})),o(this,"afterClose",(()=>{this.C.is()&&(document.removeEventListener("keydown",this.modalFocusListener),this.C.viewDiv.removeEventListener("focusin",this.maybeSetTrap),this.listening=!1)})),o(this,"modalFocusListener",(t=>{if(!("Tab"===t.key||9===t.keyCode))return;if(!this.shouldTrapFocus)return;this.maybeSetTrap();let i=null;t.shiftKey&&document.activeElement===this.focusable.first&&(i=this.focusable.last),t.shiftKey||document.activeElement!==this.focusable.last||(i=this.focusable.first),i&&(i.focus(),t.preventDefault())})),this.C=t,this.focusable={first:null,last:null},this.listening=!1,this.shouldTrapFocus=!0}}}}]);